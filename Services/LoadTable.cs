using System;
using System.Text;
using System.Text.Json;
using System.Text.Json.Serialization;
using ScheduleApp.Model;

namespace ScheduleApp.Services;

public class LoadTable
{
    // sorry
    public string subjects =
        "[\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 1,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ค30101\",\r\n        \"Name\": \"วิยุตคณิตเบื้องต้น\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIwNzgwNTk0NzYw\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/mathcom1-65-mwit/m4/%E0%B8%8430101\"\r\n      },\r\n      \"Room\": \"1302\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 1,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30193\",\r\n        \"Name\": \"การเขียนแบบและทักษะพื้นฐานงานช่าง\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzgwMDQwNTc4\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/design-and-workshop-skill/home\"\r\n      },\r\n      \"Room\": \"โรงฝึกงาน 1\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 1,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30181\",\r\n        \"Name\": \"วิทยาการคอมพิวเตอร์เบื้องต้น\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzYzMjc1NDk0\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/intro2cs\"\r\n      },\r\n      \"Room\": \"1202\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 1,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": {\r\n        \"Code\": \"ศ30101\",\r\n        \"Name\": \"สุนทรียนาฏศิลป์ไทย\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzgwODc5OTc1%22\",\r\n        \"Sites\": null\r\n      },\r\n      \"Room\": \"ห้องนาฏศิลป์\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 2,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30131\",\r\n        \"Name\": \"เคมีพื้นฐาน\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzQ4NDg0MTEx\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/smartchemistry/home\"\r\n      },\r\n      \"Room\": \"3603\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 2,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": null,\r\n      \"Room\": \"1501\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 2,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": {\r\n        \"Code\": \"ท30101\",\r\n        \"Name\": \"ภาษาไทยเพื่อการสื่อสาร 1\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIwNzgwODEyOTk5\",\r\n        \"Sites\": null\r\n      },\r\n      \"Room\": \"ห้องประชุมดร.ณัฐ\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 2,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 3,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30101\",\r\n        \"Name\": \"การเขียนแบบและทักษะพื้นฐานงานช่าง\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzgxMTI3MDcw\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/sci30101/home\"\r\n      },\r\n      \"Room\": \"3701\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 3,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": {\r\n        \"Code\": \"พ30101\",\r\n        \"Name\": \"สุขศึกษาและพลศึกษา 1\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk0NjY1ODk3Njcy\",\r\n        \"Sites\": null\r\n      },\r\n      \"Room\": \"ศูนย์กีฬา ชั้น2\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 3,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": {\r\n        \"Code\": \"ค30101\",\r\n        \"Name\": \"วิยุตคณิตเบื้องต้น\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIwNzgwNTk0NzYw\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/mathcom1-65-mwit/m4/%E0%B8%8430101\"\r\n      },\r\n      \"Room\": \"1301\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 3,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 4,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30161\",\r\n        \"Name\": \"โลกของสิ่งมีชีวิต\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MjAxNDQ2MjIy\",\r\n        \"Sites\": null\r\n      },\r\n      \"Room\": \"3401\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 4,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 4,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 4,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": {\r\n        \"Code\": \"ค30102\",\r\n        \"Name\": \"พีชคณิตและแคลคูลัสของฟังก์ชันพหุนาม\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIxMDQ1NzgzMjcx\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/mathcom1-65-mwit/m4/%E0%B8%8430102\"\r\n      },\r\n      \"Room\": \"1302\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 5,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 5,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": {\r\n        \"Code\": \"ค30102\",\r\n        \"Name\": \"พีชคณิตและแคลคูลัสของฟังก์ชันพหุนาม\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIxMDQ1NzgzMjcx\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/mathcom1-65-mwit/m4/%E0%B8%8430102\"\r\n      },\r\n      \"Room\": \"ข้างหอประชุม\"\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 5,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"a\",\r\n      \"Day\": 5,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 1,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ค30101\",\r\n        \"Name\": \"วิยุตคณิตเบื้องต้น\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIwNzgwNTk0NzYw\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/mathcom1-65-mwit/m4/%E0%B8%8430101\"\r\n      },\r\n      \"Room\": \"1302\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 1,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30193\",\r\n        \"Name\": \"การเขียนแบบและทักษะพื้นฐานงานช่าง\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzgwMDQwNTc4\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/design-and-workshop-skill/home\"\r\n      },\r\n      \"Room\": \"โรงฝึกงาน 1\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 1,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30181\",\r\n        \"Name\": \"วิทยาการคอมพิวเตอร์เบื้องต้น\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzYzMjc1NDk0\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/intro2cs\"\r\n      },\r\n      \"Room\": \"1202\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 1,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 2,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30131\",\r\n        \"Name\": \"เคมีพื้นฐาน\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzQ4NDg0MTEx\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/smartchemistry/home\"\r\n      },\r\n      \"Room\": \"3603\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 2,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": null,\r\n      \"Room\": \"1501\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 2,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": {\r\n        \"Code\": \"ท30101\",\r\n        \"Name\": \"ภาษาไทยเพื่อการสื่อสาร 1\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIwNzgwODEyOTk5\",\r\n        \"Sites\": null\r\n      },\r\n      \"Room\": \"ห้องประชุมดร.ณัฐ\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 2,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 3,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30101\",\r\n        \"Name\": \"การเขียนแบบและทักษะพื้นฐานงานช่าง\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzgxMTI3MDcw\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/sci30101/home\"\r\n      },\r\n      \"Room\": \"3701\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 3,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 3,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30131\",\r\n        \"Name\": \"เคมีพื้นฐาน\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MzQ4NDg0MTEx\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/smartchemistry/home\"\r\n      },\r\n      \"Room\": \"3603\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 3,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 4,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30161\",\r\n        \"Name\": \"โลกของสิ่งมีชีวิต\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MjAxNDQ2MjIy\",\r\n        \"Sites\": null\r\n      },\r\n      \"Room\": \"3401\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 4,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 4,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": {\r\n        \"Code\": \"ส30102\",\r\n        \"Name\": \"ศาสนาเปรียบเทียบ\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MDY3MjE3NzU1\",\r\n        \"Sites\": null\r\n      },\r\n      \"Room\": \"1503\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 4,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": {\r\n        \"Code\": \"ค30102\",\r\n        \"Name\": \"พีชคณิตและแคลคูลัสของฟังก์ชันพหุนาม\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIxMDQ1NzgzMjcx\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/mathcom1-65-mwit/m4/%E0%B8%8430102\"\r\n      },\r\n      \"Room\": \"1302\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 5,\r\n      \"PeriodNumber\": 1,\r\n      \"Subject\": {\r\n        \"Code\": \"ว30161\",\r\n        \"Name\": \"โลกของสิ่งมีชีวิต\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NDk1MjAxNDQ2MjIy\",\r\n        \"Sites\": null\r\n      },\r\n      \"Room\": \"3401\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 5,\r\n      \"PeriodNumber\": 2,\r\n      \"Subject\": {\r\n        \"Code\": \"ค30102\",\r\n        \"Name\": \"พีชคณิตและแคลคูลัสของฟังก์ชันพหุนาม\",\r\n        \"Classroom\": \"https://classroom.google.com/c/NTIxMDQ1NzgzMjcx\",\r\n        \"Sites\": \"https://sites.google.com/mwit.ac.th/mathcom1-65-mwit/m4/%E0%B8%8430102\"\r\n      },\r\n      \"Room\": \"ข้างหอประชุม\"\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 5,\r\n      \"PeriodNumber\": 3,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    },\r\n    {\r\n      \"Week\": \"b\",\r\n      \"Day\": 5,\r\n      \"PeriodNumber\": 4,\r\n      \"Subject\": null,\r\n      \"Room\": null\r\n    }\r\n]";
    public List<Period> table = new();
	public async Task<List<Period>> GetTable()
    {
        byte[] byteArray = Encoding.UTF8.GetBytes(subjects);
        MemoryStream stream = new MemoryStream(byteArray);
        table = await JsonSerializer.DeserializeAsync<List<Period>>(stream);
        foreach(Period period in table)
        {
            if(period.Subject == null)
            {
                // period.PeriodNumber = 0;
            }
        }
        return table; 
    }
}